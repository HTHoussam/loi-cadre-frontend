<div class="loi-cadre-list">
  <h1>Lois Cadres</h1>
  <form [formGroup]="filterForm" class="filters">
    <select formControlName="selectedAnnee">
      <option [value]="null">Toutes les années</option>
      <option *ngFor="let year of [2022, 2023, 2024, 2025, 2026]" [value]="year">{{ year }}</option>
    </select>
    <select formControlName="selectedStatut">
      <option [value]="null">Tous les statuts</option>
      <option *ngFor="let statut of statuts" [value]="statut">{{ statut }}</option>
    </select>
  </form>
  <table>
    <thead>
      <tr>
        <th>Année</th>
        <th>Version</th>
        <th>Statut</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let loi of lois">
        <td>{{ loi.annee }}</td>
        <td>{{ loi.version }}</td>
        <td>{{ loi.statut }}</td>
        <td>
          <button [routerLink]="['/loi-cadre', loi.id]">Détails</button>
          <button [routerLink]="['/loi-cadre/edit', loi.id]">Modifier</button>
          <button *ngIf="loi.id !== undefined" (click)="changeStatut(loi.id, StatutLoiCadre.ENVOYEE_DB)">Envoyer DB</button>
          <button *ngIf="loi.id !== undefined" (click)="valider(loi.id)">Valider</button>
          <button *ngIf="loi.id !== undefined" (click)="delete(loi.id)">Supprimer</button>
        </td>
      </tr>
    </tbody>
  </table>
  <button [routerLink]="['/loi-cadre/create']">Nouvelle Loi Cadre</button>
</div>